export CONF_PATH="$HOME/conf"

# Path to your oh-my-zsh installation.
export ZSH="$HOME/.oh-my-zsh"

export FZF_DEFAULT_COMMAND='ag -l'
export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
export EDITOR=vim

ZSH_THEME="spaceship"

SPACESHIP_DIR_TRUNC_REPO=false
SPACESHIP_NODE_DEFAULT_VERSION=12.10.0

plugins=(
  cp
  z
  k
  yarn
  zsh-syntax-highlighting
  rake-fast
  vi-mode
  docker
  docker-compose
  zsh-autosuggestions
  git-flow-completion
)

source $ZSH/oh-my-zsh.sh

# User configuration
ZSH_AUTOSUGGEST_BUFFER_MAX_SIZE=20
ZSH_AUTOSUGGEST_USE_ASYNC=1
ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE="fg=5,underline"

ZSH_HIGHLIGHT_HIGHLIGHTERS=(main brackets pattern)
ZSH_HIGHLIGHT_PATTERNS+=('rm -rf*' 'fg=white,bold,bg=red')


export LANG=en_US.UTF-8
export LC_CTYPE=en_US.UTF-8

# CUSTOM STUFF
#
alias ll="l -hl -s extension"
alias mongo_start="brew services start mongodb-community@4.2"
alias mongo_stop="brew services stop mongodb-community@4.2"


zstyle ':completion:*:*:make:*' tag-order 'targets'

autoload -U compinit && compinit


# Zsh Specific configurations
unsetopt share_history
setopt menu_complete
setopt hist_ignore_dups

# vim mode 
KEYTIMEOUT=1
set -o vi

# fzf
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh


eval `ssh-agent`
ssh-add -K ~/.ssh/bstack-office-key 
ssh-add -K ~/.ssh/bstack-personal-key 
ssh-add -k ~/.ssh/codersforhire/id_rsa


# import all files in the zsh custom config path
for file in $CONF_PATH/zsh_custom/*; do
   source "$file"
done
# fnm
eval "$(fnm env --multi)"

# Highlight the current autocomplete option
zstyle ':completion:*' list-colors "${(s.:.)LS_COLORS}"

# Better SSH/Rsync/SCP Autocomplete
zstyle ':completion:*:(scp|rsync):*' tag-order ' hosts:-ipaddr:ip\ address hosts:-host:host files'
zstyle ':completion:*:(ssh|scp|rsync):*:hosts-host' ignored-patterns '*(.|:)*' loopback ip6-loopback localhost ip6-localhost broadcasthost
zstyle ':completion:*:(ssh|scp|rsync):*:hosts-ipaddr' ignored-patterns '^(<->.<->.<->.<->|(|::)([[:xdigit:].]##:(#c,2))##(|%*))' '127.0.0.<->' '255.255.255.255' '::1' 'fe80::*'

# Allow for autocomplete to be case insensitive
zstyle ':completion:*' matcher-list '' 'm:{[:lower:][:upper:]}={[:upper:][:lower:]}' \
  '+l:|?=** r:|?=**'

# Initialize the autocompletion
autoload -Uz compinit && compinit -i

FPATH=$(brew --prefix)/share/zsh/site-functions:$FPATH

autoload -Uz compinit
compinit